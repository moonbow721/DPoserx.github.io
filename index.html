<!DOCTYPE html>
<html lang="en">

<!-- Head -->

<head>
  <!-- Standard metadata -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>DPoser: Diffusion Model as Robust 3D Human Pose Prior</title>
  <meta name="author" content="Junzhe Lu" />
  <meta name="description" content="Diffusion Model as Robust 3D Human Pose Prior" />
  <meta name="keywords" content="DPoser" />

  <!-- Google Search Verification -->
  <!-- <meta name="google-site-verification" content="aF7wSOljWeE2IT3HvAhPwdnNxup1zdKCrFf50yCFMoE" /> -->

  <!-- Bootstrap & MDB -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css"
    integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"
    integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css"
    integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css"
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

  <!-- Code Syntax Highlighting -->
  <link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

  <!-- Styles -->
  <link rel="icon" href="./assets/img/icon.png">
  <link rel="stylesheet" href="./assets/css/main.css">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VHPFHC4JTP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-VHPFHC4JTP');
  </script>
</head>

<!-- Body -->

<body>

  <!-- Content -->
  <div class="container project_container mt-5">
    <!---------------------------- HEADER ---------------------------->
    <header class="project-title" style="text-align: center; ">
      <h1 class="project-title" style="font-weight: bold; color: #404040">
        <img src="./assets/img/icon.png" style="height:5%; width:5%">
        DPoser: Diffusion Model as Robust 3D Human Pose Prior</h1>
      <h3>
        <a href="https://scholar.google.com/citations?user=hnJ4NIYAAAAJ" target="_blank" rel="noopener noreferrer">Junzhe Lu</a><sup>1</sup>,
        <a href="https://jinglin7.github.io" target="_blank" rel="noopener noreferrer">Jing Lin</a><sup>2</sup>,
        <a href="https://scholar.google.com/citations?user=pSNEkEwAAAAJ" target="_blank" rel="noopener noreferrer">Hongkun Dou</a><sup>1</sup>,<br>
        <a href="https://ailingzeng.site/" target="_blank" rel="noopener noreferrer">Ailing Zeng</a><sup>3</sup>,
        <a href="https://shi.buaa.edu.cn/yuedeng/en/index.htm" target="_blank" rel="noopener noreferrer">Yue Deng</a><sup>1</sup>,
        <a href="https://yulunzhang.com/" target="_blank" rel="noopener noreferrer">Yulun Zhang</a><sup>4</sup>,
        and
        <a href="https://www.sigs.tsinghua.edu.cn/whq_en/main.htm" target="_blank" rel="noopener noreferrer">Haoqian Wang</a><sup>2</sup>
      </h3>
      <h5><sup>1</sup>Beihang University, <sup>2</sup>Tsinghua University, <sup>3</sup>International Digital Economy Academy (IDEA), <sup>4</sup>ETH Zürich
      </h5>

      <div class="publications project-links">
        <a href="https://arxiv.org/abs/2312.05541" class="btn" role="button" target="_blank" rel="noopener noreferrer">arXiv</a>
        <a href="https://youtu.be/4EvHpTYOv-o" class="btn" role="button" target="_blank" rel="noopener noreferrer">Video</a>
        <a href="https://github.com/careless-lu/DPoser" class="btn" role="button" target="_blank" rel="noopener noreferrer">Code</a>
      </div>
      <br>

      <img src="./assets/img/overview.png" style="width: 100%;">

    </header>

    <!---------------------------- ABSTRACT ---------------------------->
    <div class="h-100 d-flex align-items-center justify-content-center" style="margin-top: 30px">
      <div class="project-narrow" id="abstract" style="text-align: justify;">
        <h3 style="text-align: center;">Abstract</h3>
        <i>
          This work targets to construct a robust human pose prior. However, it remains a persistent challenge due to biomechanical constraints and diverse human movements. Traditional priors like VAEs and NDFs often exhibit shortcomings in realism and generalization, notably with unseen noisy poses. To address these issues, we introduce DPoser, a robust and versatile human pose prior built upon diffusion models. 
          DPoser regards various pose-centric tasks as inverse problems and employs variational diffusion sampling for efficient solving. Accordingly, designed with optimization frameworks, DPoser seamlessly benefits human mesh recovery, pose generation, pose completion, and motion denoising tasks. Furthermore, due to the disparity between the articulated poses and structured images, we propose truncated timestep scheduling to enhance the effectiveness of DPoser. 
          Our approach demonstrates considerable enhancements over common uniform scheduling used in image domains, boasting improvements of 5.4\%, 17.2\%, and 3.8\% across human mesh recovery, pose completion, and motion denoising, respectively.
          Comprehensive experiments demonstrate the superiority of DPoser over existing state-of-the-art pose priors across multiple tasks. 
        </i>
      </div>
    </div>

    <div class="h-100 d-flex align-items-center justify-content-center" style="margin-top: 30px">
      <div class="project-narrow" id="architecture" style="text-align: justify;">
        <h3 style="text-align: center;">Demo Video</h3>
      </div>
    </div>

    <div class="center-container">
      <div class="card card-video" style="margin-top:20px">
        <iframe width="100%" style="aspect-ratio: 16 / 9;" src="https://www.youtube.com/embed/4EvHpTYOv-o?si=TFBzC0RwPHUVy9W4"
          title="DPoser: Diffusion Model as Robust 3D Human Pose Prior" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen></iframe>
      </div>
    </div>

    <div style="margin-top:50px; padding: 0px !important">
      <h3 style="text-align: center;">Methodology Overview</h3>
      <div tab-content figure>
        <div class="tab-pane fade show active" id="h36m" role="tabpanel" aria-labelledby="h36m-list"
          style="padding: 0px !important">
          <div class="card" style="padding: 10px !important; margin-top:10px">
            <div class="tab-content figure" id="nav-tabContent">
              <div class="tab-pane fade show active gif" id="switch_eg_1" role="tabpanel">
                <img src="./assets/img/methods.png" style="width: 100%;">
                <p style="margin:10px; text-align: justify;">Overview of the DPoser Methodology. 
                  Panel (a) presents three tasks: human mesh recovery, pose completion, and motion denoising, 
                  with omissions like camera optimization and bending loss for clarity. 
                  Panel (b) demonstrates the DPoser regularization process, introducing noise to the current pose 
                  and applying a one-step denoiser to achieve a denoised pose. 
                  \(L_\text{DPoser}\) is computed between the denoised and current pose. 
                  Panel (c) outlines the optimization process from initial to current and fitted poses via loss minimization.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div style="margin-top:50px; padding: 0px !important">
      <h3 style="text-align: center; margin-bottom:20px">Pose Generation
      </h3>
      <div tab-content figure>
        <div class="tab-pane fade show active" id="h36m" role="tabpanel" aria-labelledby="h36m-list"
          style="padding: 0px !important">
          <div class="card" style="padding: 10px !important; margin-top:10px">
            <div class="tab-content figure" id="nav-tabContent">
                <!-- First Row -->
                <div class="tab-pane fade show active" id="perform" role="tabpanel" style="display: flex; justify-content: space-around;">
                  <!-- First Image in Row 1 -->
                  <div style="width: 49%;">
                    <img class="gif" src="assets/img/generation/VPoser.png">
                    <a style="text-align: center; display: inline-block; width: 100%; font-size: larger;">VPoser</a>
                  </div>
                  <!-- Second Image in Row 1 -->
                  <div style="width: 49%;">
                    <img class="gif" src="assets/img/generation/GMM.png">
                    <a style="text-align: center; display: inline-block; width: 100%; font-size: larger;">GMM</a>
                  </div>
                </div>
                <!-- Second Row -->
                <div class="tab-pane fade show active" id="perform" role="tabpanel" style="display: flex; justify-content: space-around; margin-top: 20px;">
                  <!-- First Image in Row 2 -->
                  <div style="width: 49%;">
                    <img class="gif" src="assets/img/generation/PoseNDF.png">
                    <a style="text-align: center; display: inline-block; width: 100%; font-size: larger;">Pose-NDF</a>
                  </div>
                  <!-- Second Image in Row 2 -->
                  <div style="width: 49%;">
                    <img class="gif" src="assets/img/generation/DPoser.png">
                    <a style="text-align: center; display: inline-block; width: 100%; font-size: larger; font-weight: bold;">DPoser(Ours)</a>
                  </div>
                </div>
              </div>
              <p style="text-align: justify; margin: 10px;">
                While DPoser’s outputs are visually diverse and realistic, poses generated from competing methods 
                like GMM and Pose-NDF fall short in naturalism, and VPoser exhibits limited diversity.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div style="margin-top:50px; padding: 0px !important">
      <h3 style="text-align: center; margin-bottom:20px">Pose Completion</h3>
      <div tab-content figure>
        <div class="tab-pane fade show active" id="pose-completion" role="tabpanel" style="padding: 0px !important">
          <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="dropdown list-group">
              <button class="btn dropdown-toggle" style="max-width:600px" type="button" id="pose-completion-btn"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="selection">case-1</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="list-tab" role="tablist">
                <a class="dropdown-item dropdown-item-action" href="#right-arm" id="pose-completion-dropdown" data-toggle="list"
                  role="tab" aria-controls="right-arm">case-1</a>
                <a class="dropdown-item dropdown-item-action" href="#trunk" id="pose-completion-dropdown" data-toggle="list"
                  role="tab" aria-controls="trunk">case-2</a>
              </div>
            </div>
          </div>
          <div class="card" style="padding: 10px !important; margin-top:10px; margin-left: auto; margin-right: auto; max-width: 1170px;"> <!-- Adjusted max-width and margins -->
            <div class="tab-content figure" id="nav-tabContent">
              <div class="tab-pane fade show active gif" id="right-arm" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/completion/case1.png">
                  </div>
                </div>
                <p style="text-align: center; color:purple"><b><i> Left leg under occlusion.</i></b></p>
              </div>
              <div class="tab-pane fade" id="trunk" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/completion/case2.png">
                  </div>
                </div>
                <p style="text-align: center; color:purple"><b><i>Trunk under occlusion.</i></b></p>
              </div>
              <p style="text-align: justify; margin: 10px;">In pose completion, DPoser uniquely offers multiple plausible solutions for partially observed poses, 
                a scenario where competitors often struggle due to limited generalization.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    


    <div style="margin-top:50px; padding: 0px !important">
      <h3 style="text-align: center; margin-bottom:20px">Human Mesh Recovery</h3>
      <div tab-content figure>
        <div class="tab-pane fade show active" id="human-mesh-recovery" role="tabpanel" style="padding: 0px !important">
          <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="dropdown list-group">
              <button class="btn dropdown-toggle" style="max-width:600px" type="button" id="human-mesh-recovery-btn"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="selection">case-1</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="list-tab" role="tablist">
                <a class="dropdown-item dropdown-item-action" href="#default-camera" id="human-mesh-recovery-dropdown" data-toggle="list"
                  role="tab" aria-controls="default-camera">case-1</a>
                <a class="dropdown-item dropdown-item-action" href="#cliff" id="human-mesh-recovery-dropdown" data-toggle="list"
                  role="tab" aria-controls="cliff">case-2</a>
                <a class="dropdown-item dropdown-item-action" href="#more" id="human-mesh-recovery-dropdown" data-toggle="list"
                  role="tab" aria-controls="more">more examples</a>
              </div>
            </div>
          </div>
          <div class="card" style="padding: 10px !important; margin-top:10px; margin-left: auto; margin-right: auto; max-width: 1170px;"> <!-- Adjusted max-width and margins -->
            <div class="tab-content figure" id="nav-tabContent">

              <div class="tab-pane fade show active gif" id="default-camera" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/hmr/case1.png">
                  </div>
                </div>
                <p style="text-align: center; color:purple"><b><i> Initialization using mean poses and default camera.</i></b></p>
              </div>

              <div class="tab-pane fade" id="cliff" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/hmr/case2.png">
                  </div>
                </div>
                <p style="text-align: center; color:purple"><b><i> Initialization using the CLIFF model.</i></b></p>
              </div>

              <div class="tab-pane fade" id="more" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <!-- 2x2 Images Grid Start -->
                    <div style="display: flex; flex-wrap: wrap; justify-content: space-around; max-width: 1170px; margin: 20px auto;">
                      <!-- Image 1 -->
                      <div style="flex: 0 0 48%; margin-bottom: 5px;">
                          <img src="./assets/img/hmr/EHF.png" alt="Description1" style="width: 100%;">
                          <p style="text-align: center; font-size: larger;">EHF dataset</p>
                      </div>
                      <!-- Image 2 -->
                      <div style="flex: 0 0 48%; margin-bottom: 5px;">
                          <img src="./assets/img/hmr/COCO.png" alt="Description2" style="width: 100%;">
                          <p style="text-align: center; font-size: larger;">COCO dataset</p>
                      </div>
                      <!-- Image 3 -->
                      <div style="flex: 0 0 48%; margin-bottom: -20px;">
                          <img src="./assets/img/hmr/3DPW.png" alt="Description3" style="width: 100%;">
                          <p style="text-align: center; font-size: larger;">3DPW dataset</p>
                      </div>
                      <!-- Image 4 -->
                      <div style="flex: 0 0 48%; margin-bottom: -20px;">
                          <img src="./assets/img/hmr/UBody.png" alt="Description4" style="width: 100%;">
                          <p style="text-align: center; font-size: larger;">UBody dataset</p>
                      </div>
                    </div>
                    <!-- 2x2 Images Grid End -->
                  </div>
                </div>
                <p style="text-align: center; color:purple"><b><i> More examples of DPoser’s fitting.</i></b></p>
              </div>
              <p style="text-align: justify; margin: 10px;">In Human Mesh Recovery (HMR), DPoser adeptly estimates poses from single images, 
                achieving more natural poses that better align with the image data.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div style="margin-top:50px; padding: 0px !important">
      <h3 style="text-align: center; margin-bottom:20px">Motion Denoising</h3>
      <div tab-content figure>
        <div class="tab-pane fade show active" id="motion-denoising" role="tabpanel" style="padding: 0px !important">
          <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="dropdown list-group">
              <button class="btn dropdown-toggle" style="max-width:600px" type="button" id="motion-denoising-btn"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="selection">40mm noise</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="list-tab" role="tablist">
                <a class="dropdown-item dropdown-item-action" href="#noise40mm" id="motion-denoising-dropdown" data-toggle="list"
                  role="tab" aria-controls="noise40mm">40mm noise</a>
                  <a class="dropdown-item dropdown-item-action" href="#noise100mm" id="motion-denoising-dropdown" data-toggle="list"
                  role="tab" aria-controls="noise100mm">100mm noise</a>
                  <a class="dropdown-item dropdown-item-action" href="#left_arm" id="motion-denoising-dropdown" data-toggle="list"
                  role="tab" aria-controls="left_arm">left arm occluded</a>
                  <a class="dropdown-item dropdown-item-action" href="#right_body" id="motion-denoising-dropdown" data-toggle="list"
                  role="tab" aria-controls="right_body">right body occluded</a>
              </div>
            </div>
          </div>
          <div class="card" style="padding: 10px !important; margin-top:10px; margin-left: auto; margin-right: auto; max-width: 1170px;"> <!-- Adjusted max-width and margins -->
            <div class="tab-content figure" id="nav-tabContent">
              <div class="tab-pane fade show active gif" id="noise40mm" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/motion/noise40mm.gif">
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="noise100mm" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/motion/noise100mm.gif">
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="left_arm" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/motion/left_arm.gif">
                  </div>
                </div>
              </div>
              <div class="tab-pane fade" id="right_body" role="tabpanel">
                <div style="display: flex; justify-content: space-around;">
                  <div style="width: 100%;"> <!-- Adjusted width -->
                    <img class="gif" src="./assets/img/motion/right_body.gif">
                  </div>
                </div>
              </div>
              <p style="text-align: justify; margin: 10px;">DPoser excels in reconstructing lifelike pose sequences from noisy and incomplete 3D joint data. 
                Its application as a single-frame pose prior extends impressively to sequences, ensuring realistic movements.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="h-100 d-flex align-items-center justify-content-center" style="margin-top: 30px">
      <div class="project-narrow" id="bibtex" style="text-align: justify;">
        <h3 style="text-align: center;">Citation</h3>
        <div class="bibtex">

          <figure class="highlight">
            <pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">dposer</span><span class="p">,</span>
  <span class="na">title</span><span class="p">=</span><span class="s">{DPoser: Diffusion Model as Robust 3D Human Pose Prior}</span><span class="p">,</span>
  <span class="na">author</span><span class="p">=</span><span class="s">{Lu, Junzhe and Lin, Jing and Dou, Hongkun and Zeng, Ailing and Deng, Yue and Zhang, Yulun and Wang, Haoqian}</span><span class="p">,</span>
  <span class="na">journal</span><span class="p">=</span><span class="s">{arxiv:2312.05541}</span><span class="p">,</span>
  <span class="na">year</span><span class="p">=</span><span class="s">{2023}</span>
<span class="p">}</span></code></pre>
          </figure>


        </div>
      </div>
    </div>

    <br>
    <p style="text-align:right;font-size:small;">
      The website template was adapted from <a href="https://lhchen.top/HumanTOMATO/">HumanTOMATO Project</a>.
    </p>

  </div>

  <!-- JavaScripts -->
  <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js"
    integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

  <!-- Mansory & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"
    integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="./assets/js/mansory.js" type="text/javascript"></script>

  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"
    integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="./assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="./assets/js/common.js"></script>

  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script"
    src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  <script>
    $(function () {
      $(".dropdown-menu a").click(function () {
        var selText = $(this).text();
        $(this).parent().parent().find(".selection").html(selText);
      });
    });

    document.addEventListener("DOMContentLoaded", function () {
      var lazyloadThrottleTimeout;

      var elements = document.getElementsByClassName('dropdown-item');

      function lazyload(event) {
        if (lazyloadThrottleTimeout) {
          clearTimeout(lazyloadThrottleTimeout);
        }
        img_id = this.text
        img2 = $("#" + img_id + " img")
        // .children("img")
        console.log(img2)
        for (var i = 0; i < img2.length; i++) {
          img = img2.get(i)
          if ($(img).hasClass('lazy')) {
            img.src = img.dataset.src;
            img.classList.remove('lazy');
            lazyloadThrottleTimeout = setTimeout(function () { }, 20);
          }
        }
      }

      Array.from(elements).forEach((element) => {
        element.addEventListener('click', lazyload);
      });
    });
  </script>
</body>

</html>